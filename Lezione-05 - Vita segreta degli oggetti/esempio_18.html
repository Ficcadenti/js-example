<!--
	# 
	# MODULE DESCRIPTION:
	# esempio_18.html
	# 
	# 
	# AUTHORS:
	# Author Name		Raffaele Ficcadenti
	# Author email		raffaele.ficcadenti@gmail.com
	# 
	# 
	# HISTORY:
	# -[Date]-      -[Who]-               -[What]-
	# 28-11-2016    Ficcadenti Raffaele         
	# -
-->

<hmtl>

<head>
	<title>sorgente: esempio_18.html</title>
	<!-- Sezione per i CSS -->
	<link rel="stylesheet" type="text/css" href="../assets/css/default.css">
</head>

<body>	
	<p>
		<i>
			"Il problema coi linguaggi orientati agli oggetti &egrave; che si portano dietro tutto<br>
			quest'ambiente implicito. Vuoi una banana e invece ti trovi con un gorilla<br>
			che tiene in mano la banana e tutta la giungla."<br>
		</i>
		<br>
		<strong>Joe Armstrong</strong><i> intervistato su Coders at Work</i>
	</p>
	<hr>

	<script type="application/x-javascript" src="../assets/lib/my_scripts.js"></script>
	<script type="application/x-javascript">

		function showObj(obj)
		{
			for(var value in obj)
			{
				if ( typeof obj[value] != "object" ) 
				{
					document.write(value+": "+obj[value]+" ");	
				}
				else 
				{
					document.write("obj["+value+"]=> {");
					showObj(obj[value]);
					document.write("}");
					println();
				}
			}
		}

		infoBrowser();
		capitolo("La vita segreta degli oggetti");
		paragrafo("Costruttori");

		function coniglio(type)
		{
			this.type=type;
			return this;
		}

		var coniglioGiallo=new coniglio("giallo");
		var coniglioVerde=new coniglio("verde");

		coniglio.prototype.dice = function(line){
				println("Il coniglio "+this.type+" dice '"+line+"'");
			};

		coniglioGiallo.dice("Arieccomi !!!!!");
		coniglioVerde.dice("Ho mal di pancia !!!!!");

		console.log(coniglioGiallo);

		coniglio.prototype.type="coniglio";
		println("coniglioGiallo.type="+coniglioGiallo.type);
		println("coniglio.type="+coniglio.prototype.type);

		chiudiparagrafo();
		paragrafo("Interferenza tra prototipi");
		Object.prototype.nonmap="ciao";

		Object.defineProperty(Object.prototype, "nonmap_quasiok",{enumerable:false, value:"mi hai trovato!!!"});

		var map={};
		function storePhi(event,phi)
		{
			map[event]=phi;
		}
		storePhi("pizza",10);
		storePhi("birra",1);
		storePhi("vino",13);

		
		for(var evt in map)
		{
			if(map.hasOwnProperty(evt))
			{
				var phi=map[evt];
				println("phi("+evt+")= "+phi);
			}
		}

		println(map.nonmap_quasiok);

		println("nonmap" in map);
		println("toString" in map);
		println("nonmap_quasiok" in map);
		println(map.hasOwnProperty("nonmap_quasiok"));
		
		chiudiparagrafo();

		paragrafo("Oggetti senza prototipo");

		var map1=Object.create(null);
		function storePhi1(event,phi)
		{
			map1[event]=phi;
		}
		storePhi1("pizza",10);
		storePhi1("birra",1);
		storePhi1("vino",13);

		for(var evt in map1)
		{
			var phi=map1[evt];
			println("phi("+evt+")= "+phi);
		}

		println("nonmap" in map1);
		println("toString" in map1);
		println("nonmap_quasiok" in map1);



		chiudiparagrafo();
	</script>

	<hr>
	<div id="info">
		<h1>Info</h1>
		<a href="http://www.w3schools.com/js/default.asp" target="_blank">w3schools<span class="dotcom">.com</span></a><br>
		<a href="http://html5index.org/index.html" target="_blank">The HTML 5 JavaScript API Index</a>
	</div>

</body>
</hmtl>